---
export const prerender = false;
import Hero from "@components/Hero.astro";
import Layout from "@layouts/Layout.astro";
import Experience from "@components/Experience.astro";
import Projects from "@components/Projects.astro";
import About from "@components/About.astro";
import { fetchSiteConfig } from "../../../_shared/config";

import "../styles/global.css";

const portfolioId = Astro.url.searchParams.get('portfolioId');
const siteConfig = await fetchSiteConfig(portfolioId);
---
<Layout siteConfig={siteConfig}>
  <Hero siteConfig={siteConfig} />
  <Experience siteConfig={siteConfig} />
  <Projects siteConfig={siteConfig} />
  <About siteConfig={siteConfig} />
  {siteConfig?.scripts && siteConfig.scripts.length > 0 && (
    <>
      {siteConfig.scripts.map((src) => <script src={src} defer />)}
    </>
  )}
</Layout>
